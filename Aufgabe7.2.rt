declare bus INBUS(11:0), OUTBUS(6:0), INPUT,VALID,READY;
declare register INREG(11:0), AR(6:0);

WAIT:
    if VALID=1 then INREG<-INBUS else goto WAIT fi;

    AR<-INREG(11:8)+%0110000; 
    OUTBUS<-AR;

    AR<-INREG(7:4)+%0110000; 
    OUTBUS<-AR;

    AR<-INREG(3:0)+%0110000; 
    OUTBUS<-AR,READY<-1;
    
    goto WAIT;